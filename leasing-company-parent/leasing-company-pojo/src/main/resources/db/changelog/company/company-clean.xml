<?xml version="1.0" encoding="utf-8"?>
<databaseChangeLog
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <changeSet id="20181205-01" author="asher">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_association_relationship"/>
        </preConditions>
        <comment>删除关联关系</comment>
        <dropTable tableName="l_cp_association_relationship"/>
    </changeSet>
    
    <changeSet id="20181129-02" author="asher">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_attendances"/>
        </preConditions>
        <comment>删除出勤表</comment>
        <dropTable tableName="l_cp_attendances"/>
    </changeSet>

    <changeSet id="20181129-03" author="asher">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_bank_account"/>
        </preConditions>
        <comment>删除银行账号</comment>
        <dropTable tableName="l_cp_bank_account"/>
        <dropTable tableName="l_cp_bank_account_his"/>
    </changeSet>

    <changeSet id="20181205-14" author="asher">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_customer_transfer"/>
        </preConditions>
        <comment>删除客户转移表</comment>
        <dropTable tableName="l_cp_customer_transfer"/>
    </changeSet>


    <changeSet id="20181205-141" author="asher">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_business_transfer"/>
        </preConditions>
        <comment>删除业务员转移</comment>
        <dropTable tableName="l_cp_business_transfer"/>
    </changeSet>

    <changeSet id="20181129-05" author="asher">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_vehicles"/>
        </preConditions>
        <comment>删除车辆表</comment>
        <dropTable tableName="l_cp_vehicles"/>
    </changeSet>

    <changeSet id="20181129-06" author="asher">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_drivers"/>
        </preConditions>
        <comment>删除司机表</comment>
        <dropTable tableName="l_cp_drivers"/>
    </changeSet>

    <changeSet id="20181204-07" author="asher">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_visit_plan"/>
        </preConditions>
        <comment>删除拜访计划表</comment>
        <dropTable tableName="l_cp_visit_plan"/>
    </changeSet>

    <changeSet id="20181129-08" author="asher">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_secured_assets"/>
        </preConditions>
        <comment>删除担保资产表</comment>
        <dropTable tableName="l_cp_secured_assets"/>
        <dropTable tableName="l_cp_secured_assets_his"/>
    </changeSet>

    <changeSet id="20181129-09" author="asher">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_intentional_customers"/>
        </preConditions>
        <comment>意向客户</comment>
        <dropTable tableName="l_cp_intentional_customers"/>
    </changeSet>

    <changeSet id="20181217-10" author="asher">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_identification_number"/>
        </preConditions>
        <comment>删除机器编号</comment>
        <dropTable tableName="l_cp_identification_number"/>
        <dropTable tableName="l_cp_identification_number_his"/>
    </changeSet>


    <changeSet id="20181205-11" author="asher">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_product_model"/>
        </preConditions>
        <comment>删除产品型号表</comment>
        <dropTable tableName="l_cp_product_model"/>
        <dropTable tableName="l_cp_product_model_his"/>
    </changeSet>

    <changeSet id="20181205-12" author="asher">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_product_category"/>
        </preConditions>
        <comment>删除产品分类表</comment>
        <dropTable tableName="l_cp_product_category"/>
        <dropTable tableName="l_cp_product_category_his"/>
    </changeSet>

    <changeSet id="20181129-13" author="asher">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_customer_detail"/>
        </preConditions>
        <comment>删除客户详细信息</comment>
        <dropTable tableName="l_cp_customer_detail"/>
        <dropTable tableName="l_cp_customer_detail_his"/>
    </changeSet>

    <changeSet id="20181207-01" author="louis">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_company_personnel"/>
        </preConditions>
        <comment>删除公司相关人员</comment>
        <dropTable tableName="l_cp_company_personnel"/>
        <dropTable tableName="l_cp_company_personnel_his"/>
    </changeSet>


    <changeSet id="20181129-16" author="asher">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_customer"/>
        </preConditions>
        <comment>删除客户表</comment>
        <dropTable tableName="l_cp_customer"/>
        <dropTable tableName="l_cp_customer_his"/>
    </changeSet>

    <changeSet id="20181203-11" author="asher">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_guarantee_company"/>
        </preConditions>
        <comment>删除担保公司表</comment>
        <dropTable tableName="l_cp_guarantee_company"/>
        <dropTable tableName="l_cp_guarantee_company_his"/>
    </changeSet>
    
    <changeSet id="20181129-18" author="asher">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_supplier"/>
        </preConditions>
        <comment>删除供应商</comment>
        <dropTable tableName="l_cp_supplier"/>
        <dropTable tableName="l_cp_supplier_his"/>
    </changeSet>

    <changeSet id="20181217-19" author="asher">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_guarantor"/>
        </preConditions>
        <comment>删除自然担保人</comment>
        <dropTable tableName="l_cp_guarantor"/>
        <dropTable tableName="l_cp_guarantor_his"/>
    </changeSet>

    <changeSet id="20181217-20" author="asher">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="l_cp_common_company"/>
        </preConditions>
        <comment>删除公司公共表</comment>
        <sql>SET FOREIGN_KEY_CHECKS=0;</sql>
        <dropTable tableName="l_cp_common_company"/>
        <dropTable tableName="l_cp_common_company_his"/>
        <sql>SET FOREIGN_KEY_CHECKS=1;</sql>
    </changeSet>

</databaseChangeLog>